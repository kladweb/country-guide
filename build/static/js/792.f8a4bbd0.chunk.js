/*! For license information please see 792.f8a4bbd0.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkcountry_guide_git=self.webpackChunkcountry_guide_git||[]).push([[792],{7792:(e,t,n)=>{n.r(t),n.d(t,{PageLoginLogout:()=>U});var a=n(2791),o=n(6119),s=n(9222),r=n(5027),i=n(7325),l=n(4944);var c=n(184);const u=e=>{let{loginGoogle:t}=e;return(0,c.jsxs)("button",{className:"loginButton",onClick:t,children:[(0,c.jsx)("img",{className:"google-logo",src:"/img/shared/google_icon.png",alt:"google icon"}),(0,c.jsx)("span",{className:"google-span",children:"Login with Google"})]})};var d=n(549);const p=e=>{let{setShowMod:t,logoutGoogle:n,isClearData:o,deleteUserData:s}=e;const r=a.useRef(null),[i,l]=(0,a.useState)(!0),[u,p]=(0,a.useState)(!1);(0,a.useEffect)((()=>{l(!1),p(!1)}),[]);const m=()=>{l(!0)};return(0,c.jsx)(d.Z,{timeout:300,nodeRef:r,classNames:"land",in:!i,onExited:()=>{t(!1),u&&(o&&s(),n())},mountOnEnter:!0,unmountOnExit:!0,children:(0,c.jsx)("div",{ref:r,className:"modal",onClick:()=>{l(!0)},children:(0,c.jsxs)("div",{className:"modal-logout",onClick:e=>e.stopPropagation(),children:[(0,c.jsx)("span",{className:"button-close material-icons-outlined",onClick:m,children:"close"}),o?(0,c.jsxs)("div",{className:"modal-question",children:["Do yo want to logout",(0,c.jsx)("br",{}),"and clear all data?"]}):(0,c.jsx)("div",{className:"modal-question",children:"Do yo want to logout?"}),(0,c.jsx)("button",{onClick:()=>{p(!0),l(!0)},children:"YES"}),(0,c.jsx)("button",{onClick:m,children:"NO"})]})})})};var m=n(7097);const g=e=>{let{userName:t,setInput:n}=e;const o=(0,r.TL)(),{writeUserName:s}=(0,m.W)(),[l,u]=(0,a.useState)(t),d=()=>{n(!1),""!==l&&(s(l),o((0,i.b4)(l)))};return(0,c.jsx)("input",{name:"userName",className:"inputName",autoFocus:!0,type:"text",value:l,onChange:e=>{u(e.target.value)},onKeyUp:e=>{"Enter"===e.key&&d()},onBlur:d})},h=e=>{let{logoutGoogle:t,userName:n}=e;const{readAllUsers:o}=(0,m.W)(),s=(0,r.TL)(),{writeUserPermissionVisited:l,writeUserCountries:u}=(0,m.W)(),d=(0,r.CG)((e=>e.currUser.isAllowShowVisited)),[h,N]=(0,a.useState)(!1),[v,b]=(0,a.useState)(!1),[f,C]=(0,a.useState)(!1),_=e=>{"clear"===e.target.name?b(!0):b(!1),N(!0)};return(0,c.jsxs)("div",{className:"userPage",children:[h&&(0,c.jsx)(p,{setShowMod:N,logoutGoogle:t,isClearData:v,deleteUserData:()=>{u(null),l(null)}}),(0,c.jsx)("div",{className:"userNameWrapper",children:f?(0,c.jsx)(g,{userName:n,setInput:C}):(0,c.jsx)("h2",{className:"currentUserName",onDoubleClick:()=>{C(!0)},children:n})}),(0,c.jsxs)("div",{className:"isAllowShowVisited",children:[null!==d&&(0,c.jsx)("input",{className:"shareInput",type:"checkbox",defaultChecked:d,onChange:()=>{l(!d),s((0,i.CE)(!d)),o(s)}}),(0,c.jsx)("span",{className:"shareDescription",children:"allow other users to see the countries I have visited."})]}),(0,c.jsx)("button",{className:"logoutButton",onClick:_,children:"Logout"}),(0,c.jsx)("button",{className:"logoutButton logoutClear",name:"clear",onClick:_,children:"Logout and clear data"})]})};var N=n(5854),v=n(3258),b=n(7825),f=n(6781);class C{constructor(e,t){this._delegate=e,this.firebase=t,(0,b._addComponent)(e,new v.wA("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),(0,b.deleteApp)(this._delegate))))}_getService(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b._DEFAULT_ENTRY_NAME;var n;this._delegate.checkDestroyed();const a=this._delegate.container.getProvider(e);return a.isInitialized()||"EXPLICIT"!==(null===(n=a.getComponent())||void 0===n?void 0:n.instantiationMode)||a.initialize(),a.getImmediate({identifier:t})}_removeServiceInstance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b._DEFAULT_ENTRY_NAME;this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){(0,b._addComponent)(this._delegate,e)}_addOrOverwriteComponent(e){(0,b._addOrOverwriteComponent)(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const _={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},w=new N.LL("app-compat","Firebase",_);const L=function e(){const t=function(e){const t={},n={__esModule:!0,initializeApp:function(a){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=b.initializeApp(a,o);if((0,N.r3)(t,s.name))return t[s.name];const r=new e(s,n);return t[s.name]=r,r},app:a,registerVersion:b.registerVersion,setLogLevel:b.setLogLevel,onLog:b.onLog,apps:null,SDK_VERSION:b.SDK_VERSION,INTERNAL:{registerComponent:function(t){const o=t.name,s=o.replace("-compat","");if(b._registerComponent(t)&&"PUBLIC"===t.type){const r=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a();if("function"!==typeof e[s])throw w.create("invalid-app-argument",{appName:o});return e[s]()};void 0!==t.serviceProps&&(0,N.ZB)(r,t.serviceProps),n[s]=r,e.prototype[s]=function(){const e=this._getService.bind(this,o);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return e.apply(this,t.multipleInstances?a:[])}}return"PUBLIC"===t.type?n[s]:null},removeApp:function(e){delete t[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:b}};function a(e){if(e=e||b._DEFAULT_ENTRY_NAME,!(0,N.r3)(t,e))throw w.create("no-app",{appName:e});return t[e]}return n.default=n,Object.defineProperty(n,"apps",{get:function(){return Object.keys(t).map((e=>t[e]))}}),a.App=e,n}(C);return t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){(0,N.ZB)(t,e)},createSubscribe:N.ne,ErrorFactory:N.LL,deepExtend:N.ZB}),t}(),x=new f.Yd("@firebase/app-compat");try{const e=(0,N.Rd)();if(void 0!==e.firebase){x.warn("\n      Warning: Firebase is already defined in the global scope. Please make sure\n      Firebase library is only loaded once.\n    ");const t=e.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&x.warn("\n        Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n        ")}}catch(y){}const E=L;var j;(0,b.registerVersion)("@firebase/app-compat","0.2.48",j);E.registerVersion("firebase","11.2.0","app-compat");n(1639),E.User;const U=()=>{const e=(0,r.TL)(),{writeUserName:t,writeUserPhoto:n}=(0,m.W)(),d=(0,r.CG)((e=>e.currUser.currUser)),p=(0,r.CG)((e=>e.currUser.userName)),g=new o.hJ;(0,a.useEffect)((()=>{d&&""===p&&(t(d.displayName),e((0,i.b4)(d.displayName))),d&&(n(d.photoURL),e((0,i.zp)(d.photoURL)))}),[p]);return(0,c.jsx)("div",{className:"travelers",children:(0,c.jsx)("div",{className:"content",children:d?(0,c.jsx)(h,{logoutGoogle:function(){(0,o.w7)(s.I).then((()=>{console.log("Sign-out successful",s.I.currentUser),e((0,i.dh)({currUser:s.I.currentUser})),e((0,l.w2)([]))})).catch((e=>{console.log("Sign-out error",e)}))},userName:p}):(0,c.jsx)(u,{loginGoogle:function(){(0,o.rh)(s.I,g).then((t=>{const n=s.I.currentUser,a={email:n.email?n.email:"",displayName:n.displayName?n.displayName:"",photoURL:n.photoURL?n.photoURL:"",uid:n.email?n.email.replace(/[@.]/g,""):n.uid};return e((0,i.dh)({currUser:a})),a.uid})).catch((t=>{console.log(t),e((0,l.w2)([]))}))}})})})}},1639:()=>{}}]);
//# sourceMappingURL=792.f8a4bbd0.chunk.js.map